# MIPT_Lab_Works
В репозитории представлены некоторые лабораторные работы МФТИ - собственно те, которые были в моем маршруте.
## Структура директорий
- Каждая лаба находится в отдельной директории с именем "X.Y.Z (t)" для институских лаб и "Glass YZ (t)" для стекловских, где
  - X - номер семестра, причем начиная только с третьего.
  - Y.Z - номер лабы, указанной в лабнике
  - t - номер лабы в хронологическом порядке выполнения. Т.е. чем больше t, тем позже она была сделана.
- Внутри директории лабы принята следующая структура:
  - "Лабораторная работа X.Y.Z.*" - единственный обязательный файл (Кроме первых трех лаб). Представляет собственно результат выполнения лабы.
  - "Description X.Y.Z" - Директория или файл с описанием лабы. Может быть выдернуто из лабника, а может и сфотографированная методичка.
  - "Source" - Обычно в этой директории находятся готовые графики и рисунки установки.
  - "Data&Scripts" - В общем-то центральная часть лабы. Здесь находятся скрипты для MATLAB-а и данные. Эти скрипты могут сильно меняться с изменением номера t. Для некоторых лаб скрипты могут быть настолько плохими, что перестанут работать при изменении данных. Впрочем, если вы уже дошли до их использования - исправить это будет не проблемой.

## Основной шаблон
Выполнение любой лабы начинается с копирования основного шаблона - он находится в директории "0.0.0 (0)" и содержит всю структуру, указанную выше. Содержательная часть этого шаблона - это, конечно MATLAB-овские скрипты, которые постоянно обновляются в угоду большей автоматизации процесса. В настоящий момент их структура устроена следующим образом:
1. "main.m" - Точка входа. В неизмененном виде представляет демку и пример использования.
2. "Data.m" - класс Data, решает следующие задачи:
    - Хранение сразу нескольких наборов данных в параметре 'data' типа 'cell'. Это позволяет построить несколько графиков без их явного перечисления. Набор данных - это, например три разных непрерывных спектра, каждый есть таблица [N x 2]
    - Хранение 'названий' данных в параметре 'names' типа 'cell'. Названия - это, например, "Калибровочная кривая", или "Температурная зависимость 1"
    - Хранение названий столбцов в переменной colNames типа cell. Причем для доступа к названию, сначала нужно указать индекс данных, а потом индекс столбца. Например, для x-координаты спектра 33 будет
    > Data.colNames{33}{1}=='Частота'.
    - Хранение размерности столбцов (метры, секунды и т.п.). Организовано также как и хранение названий, в переменной colUnits.
    - Кроме того, для большей читаемости можно получать доступ к "data{i}(:, j)" не по индексу данных i и индексу столбца j, а по именам данных и столбцов с помощью переменных типа 'Map' 'indexByName' и 'colIndexByColName'. (Правда придется применять композицию, и, непохоже, что читаемость улучшается))) Например, команда получения столбца частот для спектра 33 будет 
    > D.data{D.indexByName('Spectra 33')}(:, D.colIndexByColName{D.indexByName('Spectra 33')}('Frequency')
    - Собственно помимо хранения, класс умеет автоматически заполнять все эти поля. Основной метод - "parsefiles". Автоматически подбирает все файлы с расширениями "*.txt" и "*.dat" и формирует все нужные параметры. Крайне рекомендуется указывать в файлах данный первой строкой названия всех стобцов в формате:
    > name1:unit1 name2:unit2 ... nameN:unitN
 3. "plotseries.m" - формально, функция строящая набор графиков на одном полотне. По факту - файл с настройками, эффективно работрающий с классом Data. Принимает на вход:
    - data - объект класса Data.
    - ix, iy - номера X и Y столбцов в data.data{iData}. Например, если при iData=1 стобец X будет располагаться третьим, а Y - первым, то ix=[3 ...], iy=[1 ...]
    - dataNums - массив с индексами данных, которые нужно построить.
    - Вообще, логика работы c "plotseries" следующая: для каждой серии графиков (нового полотна) файл plotseries копируется и в нем оставляются только те настройки, которые нужны. Т.е. поскольку это файл с настройками, для него не предполагается "повторная используемость кода" (Принцип DRY).
